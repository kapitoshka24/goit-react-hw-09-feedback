(this["webpackJsonpgoit-react-hw-09-feedback"]=this["webpackJsonpgoit-react-hw-09-feedback"]||[]).push([[0],{30:function(e,t,c){},31:function(e,t,c){"use strict";c.r(t);var r=c(0),a=c.n(r),n=c(6),s=c.n(n),b=c(9),o=c(7),i=c.n(o),j=c(2),d=function(e){return e.feedbacks},u=c(1);function l(){var e=Object(j.c)(d),t=function(){if(e)return Object.values(e).reduce((function(e,t){return e+t}),0)};return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{children:"Statistics"}),Object.entries(e).map((function(e){var t,c=Object(b.a)(e,2),r=c[0],a=c[1];return Object(u.jsxs)("p",{children:[(t=r,t.charAt(0).toUpperCase()+t.slice(1)),": ",a]},i.a.generate())})),Object(u.jsxs)("p",{children:["Total: ",t()]}),Object(u.jsxs)("p",{children:["Positive feedback: ",0!==t()?(e.good/t()*100).toFixed():0,"%"]})]})}var O=c(3),f=c(4),h=Object(f.b)("feedbacks/addFeedback"),p={good:0,neutral:0,bad:0},x=function(e,t){switch(t.type){case"good":return Object(O.a)(Object(O.a)({},e),{},{good:e.good+1});case"neutral":return Object(O.a)(Object(O.a)({},e),{},{neutral:e.neutral+1});case"bad":return Object(O.a)(Object(O.a)({},e),{},{bad:e.bad+1});default:throw new Error}};function g(){var e=Object(j.b)(),t=Object(r.useReducer)(x,p),c=Object(b.a)(t,2),a=c[0],n=c[1];Object(r.useEffect)((function(){return e(h(a))}),[e,a]);var s=function(e){switch(e.target.innerHTML.toLowerCase()){case"good":n({type:"good"});break;case"neutral":n({type:"neutral"});break;case"bad":n({type:"bad"});break;default:throw new Error}};return Object(u.jsx)("div",{className:"stats",children:Object.keys(a).map((function(e){return Object(u.jsx)("button",{className:"stats__btn",onClick:s,children:(t=e,t.charAt(0).toUpperCase()+t.slice(1))},i.a.generate());var t}))})}var v=function(e){var t=e.title,c=e.children;return Object(u.jsxs)("section",{children:[t&&Object(u.jsx)("h2",{children:t}),c]})},k=function(e){var t=e.message;return Object(u.jsx)("p",{className:"notification",children:t})};c(30);function m(){var e=Object(j.c)(d),t=0!==Object.values(e).reduce((function(e,t){return e+t}),0);return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)(v,{title:"Please leave your feedback",children:Object(u.jsx)(g,{})}),t?Object(u.jsx)(v,{children:Object(u.jsx)(l,{})}):Object(u.jsx)(k,{message:"No feedback given"})]})}var w=c(8),y=Object(f.c)({good:0,neutral:0,bad:0},Object(w.a)({},h,(function(e,t){return t.payload}))),C=Object(f.a)({reducer:{feedbacks:y}});s.a.render(Object(u.jsx)(a.a.StrictMode,{children:Object(u.jsx)(j.a,{store:C,children:Object(u.jsx)(m,{})})}),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.3d41bf0d.chunk.js.map